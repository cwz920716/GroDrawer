//
// This file is generated by groDrawer.py
//

include gro

set("population_max", 2000);

fun close x y . 
    if x = 0 | y = 0 then
        1.1
    else
        if x > y then
            (x / y - 1) 
        else
            (y / x - 1) 
        end
    end;

MAX_DIFF = 0.5;

signal0 := signal(5, 0.1);
signal1 := signal(5, 0.1);

program canvas() := {

    gfp := 0;
    rfp := 0;
    bfp := 0;
    cfp := 0;
    yfp := 0;

    p := [ t := 0 ];

    true : { p.t := p.t + dt }

    get_signal(signal0) >= 0.25 & get_signal(signal1) >= 0.25 & close (get_signal(signal0)) (get_signal(signal1)) <= MAX_DIFF := {
        gfp := 800;
    }

    get_signal(signal0) < 0.25 | get_signal(signal1) < 0.25 | close (get_signal(signal0)) (get_signal(signal1)) > MAX_DIFF := {
        gfp := 0;
    }

};

program main() := {
    true := {
        set_signal(signal0, -150.0, 0.0, 100);
        set_signal(signal1, 150.0, 0.0, 100);
    }
};

ecoli ( [], program canvas() );

